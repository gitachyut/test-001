var moment = require('moment-timezone');

let dataset = (data) => {
    let subReddit = data.url.split('/r/');
    subReddit = subReddit[1].split('/');
    subReddit = subReddit[0];
    let fullSubReddit = `r/${subReddit}`;

    return {
        "approved_at_utc": null,
        "subreddit": subReddit,
        "selftext": data.post,
        "author_fullname": "t2_33snjug4",
        "saved": false,
        "mod_reason_title": null,
        "gilded": 0,
        "clicked": false,
        "title": data.title,
        "link_flair_richtext": [],
        "subreddit_name_prefixed": fullSubReddit,
        "hidden": false,
        "pwls": 6,
        "link_flair_css_class": "news",
        "downs": 0,
        "thumbnail_height": null,
        "top_awarded_type": null,
        "hide_score": false,
        "name": "t3_fpukea",
        "quarantine": false,
        "link_flair_text_color": "dark",
        "upvote_ratio": 0.91,
        "author_flair_background_color": null,
        "subreddit_type": "public",
        "ups": 9,
        "total_awards_received": 0,
        "media_embed": {},
        "thumbnail_width": null,
        "author_flair_template_id": "62e7383a-ff89-11e0-b202-12313d18ad57",
        "is_original_content": false,
        "user_reports": [],
        "secure_media": null,
        "is_reddit_media_domain": false,
        "is_meta": false,
        "category": null,
        "secure_media_embed": {},
        "link_flair_text": "News",
        "can_mod_post": false,
        "score": 9,
        "approved_by": null,
        "author_premium": false,
        "edited": false,
        "author_flair_css_class": "default",
        "author_flair_richtext": [],
        "gildings": {},
        "content_categories": null,
        "is_self": false,
        "mod_note": null,
        "created": 1585333315,
        "link_flair_type": "richtext",
        "wls": 6,
        "removed_by_category": null,
        "banned_by": null,
        "author_flair_type": "richtext",
        "domain": "",
        "allow_live_comments": false,
        "selftext_html": null,
        "likes": data.likes ? parseInt( data.likes ) : 0,
        "suggested_sort": null,
        "banned_at_utc": null,
        "url_overridden_by_dest": data.url,
        "view_count": data.views ? parseInt( data.views ) : 0,
        "archived": true,
        "no_follow": false,
        "is_crosspostable": false,
        "pinned": false,
        "over_18": false,
        "all_awardings": [],
        "awarders": [],
        "media_only": false,
        "link_flair_template_id": "945fef74-3023-11e4-92f1-12313d14828c",
        "can_gild": false,
        "spoiler": false,
        "locked": false,
        "author_flair_text": "how can dis b allow",
        "treatment_tags": [],
        "visited": false,
        "removed_by": null,
        "num_reports": null,
        "distinguished": null,
        "subreddit_id": "t5_2qh8c",
        "mod_reason_by": null,
        "removal_reason": null,
        "link_flair_background_color": "",
        "id": data.id,
        "is_robot_indexable": true,
        "report_reasons": null,
        "author": data.author.trim(),
        "discussion_type": null,
        "num_comments": data.comments ? parseInt( data.comments ) : 0 ,
        "send_replies": true,
        "whitelist_status": "all_ads",
        "contest_mode": false,
        "mod_reports": [],
        "author_patreon_flair": false,
        "author_flair_text_color": "dark",
        "permalink": "",
        "parent_whitelist_status": "all_ads",
        "stickied": false,
        "url": data.url,
        "subreddit_subscribers": 293410,
        "created_utc": "8 months ago",
        "num_crossposts": 0,
        "media": "reddit",
        "is_video": false,
        "tag": [],
        "post": data.post,
        "post_date": moment(data.postDate, "YYYY-MM-DDTHH:mm:ss.SSSZZ"),
        "summary": data.post,
        "text": data.title,
        "comment_count": data.comments ? parseInt( data.comments ) : 0 ,
        "shares": data.shares ? parseInt( data.shares ) : 0,
        "reactions_count": 0,
        "reactions": {},
        "external_url": data.url,
        "post_type": data.post_type.value
    }
};

module.exports = {
    reddit: dataset
};



